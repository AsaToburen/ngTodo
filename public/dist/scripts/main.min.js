"use strict";angular.module("ngShopList",[]).controller("mainCtrl",["$scope","$http","clientService","storageService",function(e,t,n,o){e.userInput={},n.get().then(function(t){e.items=t,console.log(localStorage)}),e.addItem=function(){n.addItem(e.userInput).then(function(t){e.userInput={},e.items=t,o.setData("items",JSON.stringify(t))})},e.deleteItem=function(t){n["delete"](t).then(function(t){e.items=t})};var r=function(){console.log("function called")};r()}]),angular.module("ngShopList").factory("clientService",["$q","$http",function(e,t){return{get:function(){var n=e.defer();return t.get("/api/items").success(function(e){n.resolve(e)}).error(function(e){console.log("Error: ",e),n.reject(e)}),n.promise},addItem:function(n){var o=e.defer();return t.post("/api/items",n).success(function(e){o.resolve(e)}).error(function(e){console.log("Error: ",e),o.reject(e)}),o.promise},"delete":function(n){var o=e.defer();return t["delete"]("/api/items/"+n).success(function(e){o.resolve(e)}).error(function(e){console.log("Error: ",e),o.reject(e)}),o.promise}}}]),angular.module("ngShopList").factory("storageService",["$window","$log",function(e,t){return{setData:function(n,o){return e.localStorage.setItem(n,o),t.log("set "+n+" data: "+o),this},getData:function(n){return t.log("retreiving "+n+" data"),e.localStorage.getItem(n)}}}]);