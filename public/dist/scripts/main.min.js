"use strict";angular.module("ngShopList",[]).controller("mainCtrl",["$scope","$http","clientService","storageService",function(e,t,r,n){e.userInput={},e.addItem=function(){r.addItem(e.userInput).then(function(t){e.userInput={},e.items=t,n.setData("items",JSON.stringify(t))})},e.deleteItem=function(t){r["delete"](t).then(function(t){e.items=t,n.setData("items",JSON.stringify(t))})}}]),angular.module("ngShopList").factory("clientService",["$q","$http",function(e,t){return{get:function(){var r=e.defer();return t.get("/api/items").success(function(e){r.resolve(e)}).error(function(e){console.log("Error: ",e),r.reject(e)}),r.promise},addItem:function(r){var n=e.defer();return t.post("/api/items",r).success(function(e){n.resolve(e)}).error(function(e){console.log("Error: ",e),n.reject(e)}),n.promise},"delete":function(r){var n=e.defer();return t["delete"]("/api/items/"+r).success(function(e){n.resolve(e)}).error(function(e){console.log("Error: ",e),n.reject(e)}),n.promise}}}]),angular.module("ngShopList").factory("storageService",["$window","$log",function(e,t){return{setData:function(r,n){return e.localStorage.setItem(r,n),t.log("set "+r+" data: "+n),this},getData:function(r){return t.log("retreiving "+r+" data"),e.localStorage.getItem(r)}}}]);